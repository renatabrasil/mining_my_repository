{% extends "base.html" %}
{% load contributions_extra %}
{% block title %}Commits{% endblock %}

{% block content %}



<h3>Commits</h3>


<div class="alert alert-warning" role="alert">
  <h4 class="alert-heading">Aviso</h4>
  <p>Apenas commits que possuem arquivos <strong>.java</strong> ser√£o mostrados.</p>
  <hr>
    <p><strong>{{ latest_commit_list|length }}</strong> commits encontrados.</p>
</div>


    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th width="5%" style="text-align:center">#</th>
                    <th>hash</th>
                    <th style="text-align: center;" width="12%">java files count</th>
                    <th style="text-align: center;" width="12%">files count</th>
                    <th width="15%">Committer</th>
                    <th>Autor</th>
                </tr>
            </thead>
            <tbody>
                {% if latest_commit_list %}
                    {% for commit in latest_commit_list %}
                    <tr>
                        <th style="text-align: center;">{{forloop.counter}}</th>
                        <td><a href="/contributions/{{ commit.id }}/">{{commit.hash}}</a></td>
                        <td style="text-align: center;">{{commit.number_of_java_files}}</td>
                        <td style="text-align: center;">{{commit.modifications.all.count}}</td>
                        <td nowrap>{{ commit.committer.name}} {{commit.nloc}}</td>
                        <td nowrap>{{ commit.author.name}}</td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="7" style="text-align:center;">No commits are available. Please check 'Carregar commits' to load all commits to this tag.</td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
    <ul>

    </ul>

{% endblock %}



<!--{% if latest_commit_list %}-->
<!--    <ul>-->
<!--    {% for committer, infos in latest_commit_list.items %}-->
<!--        <li><a href="/contributions/developers/{{ committer.id }}/">{{ committer.name}}</a> - {{infos|get:0|length}} commits</li>-->
<!--    {% endfor %}-->
<!--    </ul>-->
<!--{% else %}-->
<!--    <p>No commits are available.</p>-->
<!--{% endif %}-->